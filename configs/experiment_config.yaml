# Experiment setup
experiment_name: "infineon_void_poc"
experiment_dir: "data/experiments/infineon_void_poc"

# Base data
base_image_dir: "data/base_chips"  # 5 NoVoids images

# Model settings
dino_model: "dinov2_vitb14"        # 768-dim embeddings
pca_embedding_dim: 400             # reduce to 400-dim for optimization
pca_visualization_dim: 2           # further reduce to 2D for visualization

# Random seed (one seed to rule them all)
random_seed: 42

# Dataset sizes
real:
  param_sets: 5
  replications: 3
  total_size: 15  # 5*3

close:
  param_sets: 8
  replications: 3
  total_size: 24

far:
  param_sets: 8
  replications: 3
  total_size: 24

# Iteration settings
iteration_batch_size: 8      # param sets per iteration
replications_per_iteration: 3
max_iterations: 10

# Parameter space (search bounds)
param_bounds:
  void_shape: ['circle', 'ellipse', 'irregular']
  void_count: [1, 10]
  base_size: [5.0, 15.0]
  brightness_factor: [0.3, 0.8]
  size_std: [0.0, 8.0]
  position_spread: [0.1, 0.8]

# Parameter precision (decimal places for rounding)
# Controls granularity of parameter space for optimization
# precision=1 means round to 1 decimal place (step size 0.1)
# precision=2 means round to 2 decimal places (step size 0.01)
param_precision:
  base_size: 1          # round(15.347, 1) = 15.3  (step size: 0.1 pixels)
  brightness_factor: 2  # round(0.5523, 2) = 0.55  (step size: 0.01)
  size_std: 1           # round(3.462, 1) = 3.5    (step size: 0.1 pixels)
  position_spread: 2    # round(0.4567, 2) = 0.46  (step size: 0.01)

# Parameter distributions (initial guesses, tune empirically)
# Note: Sampling will clip to param_bounds defined above
param_distributions:
  real:
    void_shape:
      probabilities:
        circle: 0.2
        ellipse: 0.5
        irregular: 0.3
    void_count:
      mean: 8
      std: 3
    base_size:
      mean: 20
      std: 5
    brightness_factor:
      mean: 0.6
      std: 0.1
    size_std:
      mean: 7
      std: 2
    position_spread:
      mean: 0.5
      std: 0.15

  close:
    void_shape:
      probabilities:
        circle: 0.25
        ellipse: 0.45
        irregular: 0.3
    void_count:
      mean: 10
      std: 3
    base_size:
      mean: 18
      std: 5
    brightness_factor:
      mean: 0.55
      std: 0.1
    size_std:
      mean: 8
      std: 2
    position_spread:
      mean: 0.55
      std: 0.15

  far:
    void_shape:
      probabilities:
        circle: 0.6
        ellipse: 0.2
        irregular: 0.2
    void_count:
      mean: 15
      std: 3
    base_size:
      mean: 10
      std: 5
    brightness_factor:
      mean: 0.25
      std: 0.1
    size_std:
      mean: 2
      std: 1
    position_spread:
      mean: 0.9
      std: 0.1

# Convergence criteria
convergence_threshold: 0.05  # distribution similarity metric
early_stop_patience: 3       # stop if no improvement for N iterations

# Optimization (placeholder)
acquisition_function: "ucb"  # or "ei", "pi"
