# Experiment setup
experiment_name: "infineon_void_poc"
experiment_dir: "data/experiments/infineon_void_poc"

# Base data
base_image_dir: "data/base_chips"  # 5 NoVoids images

# Model settings
dino_model: "dinov2_vitb14"        # 768-dim embeddings
pca_embedding_dim: 400             # reduce to 400-dim for optimization
pca_visualization_dim: 2           # further reduce to 2D for visualization

# Random seed (one seed to rule them all)
random_seed: 1

# Dataset sizes
real:
  param_sets: 5
  replications: 3
  total_size: 15  # 5*3

close:
  param_sets: 8
  replications: 3
  total_size: 24

far:
  param_sets: 8
  replications: 3
  total_size: 24

# Iteration settings
iteration_batch_size: 8      # param sets per iteration
replications_per_iteration: 3
max_iterations: 10

# Parameter space (search bounds)
param_bounds:
  void_shape: ['circle', 'ellipse', 'irregular']
  void_count: [1, 10]
  base_size: [5.0, 15.0]
  rotation: [0.0, 360.0]
  center_x: [0.2, 0.8]  # fraction of image width
  center_y: [0.2, 0.8]  # fraction of image height
  position_spread: [0.1, 0.8]

# Parameter precision (decimal places for rounding)
# Controls granularity of parameter space for optimization
# precision=1 means round to 1 decimal place (step size 0.1)
# precision=2 means round to 2 decimal places (step size 0.01)
param_precision:
  base_size: 1          # round(15.347, 1) = 15.3  (step size: 0.1 pixels)
  rotation: 1           # round(123.456, 1) = 123.5 (step size: 0.1 degrees)
  center_x: 2           # round(0.4567, 2) = 0.46  (step size: 0.01)
  center_y: 2           # round(0.4567, 2) = 0.46  (step size: 0.01)
  position_spread: 2    # round(0.4567, 2) = 0.46  (step size: 0.01)

# Parameter distributions (initial guesses, tune empirically)
# Note: Sampling will clip to param_bounds defined above
param_distributions:
  real:
    void_shape:
      probabilities:
        circle: 0.2
        ellipse: 0.5
        irregular: 0.3
    void_count:
      mean: 8
      std: 3
    base_size:
      mean: 20
      std: 5
    rotation:
      mean: 180
      std: 90
    center_x:
      mean: 0.5
      std: 0.15
    center_y:
      mean: 0.5
      std: 0.15
    position_spread:
      mean: 0.5
      std: 0.15

  close:
    void_shape:
      probabilities:
        circle: 0.25
        ellipse: 0.45
        irregular: 0.3
    void_count:
      mean: 10
      std: 3
    base_size:
      mean: 18
      std: 5
    rotation:
      mean: 180
      std: 90
    center_x:
      mean: 0.5
      std: 0.15
    center_y:
      mean: 0.5
      std: 0.15
    position_spread:
      mean: 0.55
      std: 0.15

  far:
    void_shape:
      probabilities:
        circle: 0.8
        ellipse: 0.1
        irregular: 0.1
    void_count:
      mean: 20
      std: 3
    base_size:
      mean: 8
      std: 3
    rotation:
      mean: 180
      std: 90
    center_x:
      mean: 0.5
      std: 0.15
    center_y:
      mean: 0.5
      std: 0.15
    position_spread:
      mean: 0.95
      std: 0.05

# Convergence criteria
convergence_threshold: 0.05  # distribution similarity metric
early_stop_patience: 3       # stop if no improvement for N iterations

# Optimization (placeholder)
acquisition_function: "ucb"  # or "ei", "pi"
